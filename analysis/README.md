## Usage

Any Windows-specific steps prefixed by _(Windows)_

1. _(Windows)_ Generate a `.pdb` file for source code you are analyzing. This
   can done for msvc executables by building the source code in debug mode in
   Visual Studio.

1. _(Windows)_ Use `cvdump.exe` from
   [microsoft-pdb](https://github.com/Microsoft/microsoft-pdb) to generate a
   dump file of the pdb data.

1. Build analysis tools (in this directory `mkdir build && cd build && cmake ..
   && make`).

<!-- 1. Run [Doxygen](https://doxygen.nl/) on the source code, using the `Doxyfile`
   in this directory. This is used to extract inheritance relationships from the
   source directory, which Doxygen extracts and encodes in xml metadata. -->

<!-- 
1. Run [*universal* ctags](https://ctags.sourceforge.net/) on the source code,
   using the flags `--output-format=json -f output.json --C++-kinds=+c-d-e-f-g-l-m-n-p+s-t-u-v-x`, and passing in all source
   files that will be part of the analysis. This includes any files that will be
   part of the ground truth and allows you to exclude standard libraries as
   desired. (TODO: I'm not convinced this works, would be better to use something like Doxygen) -->

1. Run `analyze_pdb_dump`, passing the dump file generated by `cvdump.exe` and
   the `output.json` file generated by `ctags`.

1. Use the corresponding `.json` file generated by `analyze_pdb_dump`. Pass to
   `evaluation` the ground truth json and OO analyzer produced json.

## Notes About Projects Analyzed

All projects were built using MSVC 2022 on a Windows 10 machine with the default
x86 debug configuration.

### TinyXML2

Clone TinyXML2 from [github](https://github.com/leethomason/tinyxml2). Build the
project (debug). To run the pintool on the test suite, you must copy the
[resources](https://github.com/leethomason/tinyxml2/tree/master/resources)
directory to the directory where you run `game.py` from

### AStyle

Download AStyle for Windows from
[sourceforge](https://sourceforge.net/projects/astyle/files/astyle/astyle%203.1/).
Open the newest MSVC project version and compile the executable.

Note: currently no tests for this project, probably have to make some inputs up
by hand to run system tests.

### CppCheck

